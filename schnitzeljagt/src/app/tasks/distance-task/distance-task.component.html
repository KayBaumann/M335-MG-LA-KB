<div class="task-wrapper">

  <div class="distance-card">
    <div class="icon-circle">
      <ion-icon name="footsteps-outline"></ion-icon>
    </div>

    <div class="distance-value">
      <span class="number">{{ distance.toFixed(1) }}</span>
      <span class="unit">m</span>
    </div>

    <p class="subtitle">
      von {{ TARGET_DISTANCE }}m zur√ºckgelegt
    </p>
  </div>

  <div class="progress-card">
    <div class="progress-header">
      <span>Fortschritt</span>
      <span>{{ progress | number:'1.0-0' }}%</span>
    </div>

    <div class="progress-bar">
      <div class="progress-fill" [style.width.%]="progress"></div>
    </div>
  </div>

  <div *ngIf="locationError" class="rounded-xl border border-red-500/20 bg-red-500/10 p-3 text-sm text-red-300">
    {{ locationError }}
  </div>

  <div class="controls">
    <ion-button expand="block" color="primary" *ngIf="!tracking && distance < TARGET_DISTANCE"
      (click)="startTracking()">
      <ion-icon slot="start" name="play"></ion-icon>
      {{ distance > 0 ? 'Fortsetzen' : 'Tracking starten' }}
    </ion-button>

    <ion-button expand="block" color="medium" *ngIf="tracking" (click)="pauseTracking()">
      <ion-icon slot="start" name="pause"></ion-icon>
      Pause
    </ion-button>
  </div>

</div>